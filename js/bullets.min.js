var Bullets={};Bullets.blasts={art:function(){var t=document.createElement("canvas"),i,n;return t.width=32,t.height=32,i=t.getContext("2d"),n=i.createRadialGradient(16,16,0,16,16,16),n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(.8,"rgba(255,255,128,0.2)"),n.addColorStop(1,"rgba(255,180,0,0)"),i.fillStyle=n,i.fillRect(0,0,32,32),t}(),maxBlasts:20,currentBlast:0,xLoc:[],yLoc:[],opacity:[]};Bullets.enemyBullets={art:function(){var t=document.createElement("canvas"),i,n;return t.width=8,t.height=8,i=t.getContext("2d"),n=i.createRadialGradient(4,4,0,4,4,4),n.addColorStop(0,"rgba(255,255,128,1)"),n.addColorStop(.8,"rgba(255,0,0,0.4)"),n.addColorStop(1,"rgba(255,180,0,0)"),i.fillStyle=n,i.fillRect(0,0,8,8),t}(),offset:-4,maxEnemyBullets:10,currentEnemyBullet:0,enemyShotSpeed:100,enemyShotStrength:1,xLoc:[],yLoc:[],ySpeed:[],xSpeed:[],inPlay:[],r:256,g:256,b:256,newEnemyBullet:function(n){Bullets.enemyBullets.currentEnemyBullet>=Bullets.enemyBullets.maxEnemyBullets&&(Bullets.enemyBullets.currentEnemyBullet=0);Bullets.enemyBullets.xLoc[Bullets.enemyBullets.currentEnemyBullet]=n.xLoc;Bullets.enemyBullets.yLoc[Bullets.enemyBullets.currentEnemyBullet]=n.yLoc+16;var t=PlayerShip.playerShip.xLoc-n.xLoc,i=n.yLoc-PlayerShip.playerShip.yLoc,r=Math.sqrt(Math.pow(t,2)+Math.pow(i,2));Bullets.enemyBullets.xSpeed[Bullets.enemyBullets.currentEnemyBullet]=t/r*Bullets.enemyBullets.enemyShotSpeed;Bullets.enemyBullets.ySpeed[Bullets.enemyBullets.currentEnemyBullet]=i/r*Bullets.enemyBullets.enemyShotSpeed;Bullets.enemyBullets.inPlay[Bullets.enemyBullets.currentEnemyBullet]=1;Bullets.enemyBullets.currentEnemyBullet++}};Bullets.playerBullets={art:function(){var t=document.createElement("canvas"),i,n;return t.width=8,t.height=8,i=t.getContext("2d"),n=i.createRadialGradient(4,4,0,4,4,4),n.addColorStop(0,"rgba(255,255,0,1)"),n.addColorStop(.8,"rgba(255,255,255,0.5)"),n.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=n,i.fillRect(0,0,8,8),t}(),offset:-4,maxPlayerBullets:100,shotFrequency:1e3,lastPlayerShot:0,shotSpeed:150,strength:1,xLoc:[],yLoc:[],ySpeed:[],xSpeed:[],inPlay:[],r:255,g:255,b:255,resetPlayerBullet:function(n){Bullets.playerBullets.xLoc[n]=PlayerShip.playerShip.xLoc;Bullets.playerBullets.yLoc[n]=PlayerShip.playerShip.yLoc-16;Bullets.playerBullets.ySpeed[n]=Bullets.playerBullets.shotSpeed;Bullets.playerBullets.xSpeed[n]=0;Bullets.playerBullets.inPlay[n]=1}};Bullets.explosionBits={bitsPerExplosion:16,maxExplosionBits:256,currentExplosionBit:0,opacity:[],xLoc:[],yLoc:[],color:{r:Bullets.playerBullets.r,g:Bullets.playerBullets.g,b:Bullets.playerBullets.b},xSpeed:[],ySpeed:[],newExplosionBit:function(n,t){Bullets.explosionBits.currentExplosionBit>=Bullets.explosionBits.maxExplosionBits&&(Bullets.explosionBits.currentExplosionBit=0);Bullets.explosionBits.opacity[Bullets.explosionBits.currentExplosionBit]=255;Bullets.explosionBits.xLoc[Bullets.explosionBits.currentExplosionBit]=n;Bullets.explosionBits.yLoc[Bullets.explosionBits.currentExplosionBit]=t;Bullets.explosionBits.xSpeed[Bullets.explosionBits.currentExplosionBit]=-100+Math.random()*200;Bullets.explosionBits.ySpeed[Bullets.explosionBits.currentExplosionBit]=-100+Math.random()*200;Bullets.explosionBits.currentExplosionBit++}};Bullets.frequencyUpgrades=0;Bullets.upgradeFrequency=function(){credits>upgradePrice(10,1.2,Bullets.frequencyUpgrades)&&(credits-=upgradePrice(10,1.2,Bullets.frequencyUpgrades),Bullets.frequencyUpgrades++,Bullets.playerBullets.shotFrequency-=10,$("#btn-freq span").text("₡"+upgradePrice(10,1.2,Bullets.frequencyUpgrades).toFixed(0)))};Bullets.generateExplosion=function(n,t){for(var i=0;i<Bullets.explosionBits.bitsPerExplosion;i++)Bullets.explosionBits.newExplosionBit(n,t);Bullets.blasts.currentBlast>Bullets.blasts.maxBlasts&&(Bullets.blasts.currentBlast=0);Bullets.blasts.opacity[Bullets.blasts.currentBlast]=1;Bullets.blasts.xLoc[Bullets.blasts.currentBlast]=n-16;Bullets.blasts.yLoc[Bullets.blasts.currentBlast]=t-16;Bullets.blasts.currentBlast++};Bullets.updatePlayerBullets=function(n){var t,i;for(Bullets.playerBullets.lastPlayerShot+=n*1e3,t=0;t<Bullets.playerBullets.maxPlayerBullets;t++)Bullets.playerBullets.inPlay[t]!==1?Bullets.playerBullets.lastPlayerShot>=Bullets.playerBullets.shotFrequency&&(Bullets.playerBullets.resetPlayerBullet(t),(playerOneAxes[2]>.25||playerOneAxes[2]<-.25||playerOneAxes[3]>.25||playerOneAxes[2]<-.25)&&(i=Math.sqrt(Math.pow(playerOneAxes[2],2)+Math.pow(playerOneAxes[3],2)),Bullets.playerBullets.xSpeed[t]=playerOneAxes[2]/i*Bullets.playerBullets.shotSpeed,Bullets.playerBullets.ySpeed[t]=-1*playerOneAxes[3]/i*Bullets.playerBullets.shotSpeed),Bullets.playerBullets.lastPlayerShot=0):(Bullets.playerBullets.xLoc[t]+=Bullets.playerBullets.xSpeed[t]*n,Bullets.playerBullets.yLoc[t]-=Bullets.playerBullets.ySpeed[t]*n,(Bullets.playerBullets.yLoc[t]<0||Bullets.playerBullets.yLoc[t]>canvasHeight||Bullets.playerBullets.xLoc[t]<0||Bullets.playerBullets.xLoc[t]>canvasWidth)&&(Bullets.playerBullets.inPlay[t]=0))};Bullets.updateEnemyBullets=function(n){for(var t=0;t<Bullets.enemyBullets.maxEnemyBullets;t++)Bullets.enemyBullets.inPlay[t]===1&&(Bullets.enemyBullets.xLoc[t]+=Bullets.enemyBullets.xSpeed[t]*n,Bullets.enemyBullets.yLoc[t]-=Bullets.enemyBullets.ySpeed[t]*n,Bullets.enemyBullets.yLoc[t]<0||Bullets.enemyBullets.yLoc[t]>canvasHeight||Bullets.enemyBullets.xLoc[t]<0||Bullets.enemyBullets.xLoc[t]>canvasWidth?Bullets.enemyBullets.inPlay[t]=0:Ships.detectCollision(PlayerShip.playerShip,Bullets.enemyBullets.xLoc[t],Bullets.enemyBullets.yLoc[t])&&(Bullets.enemyBullets.inPlay[t]=0,Bullets.generateExplosion(Bullets.enemyBullets.xLoc[t],Bullets.enemyBullets.yLoc[t]),PlayerShip.playerShip.health-=Bullets.enemyBullets.strength))};Bullets.drawPlayerBullets=function(){for(var n=0;n<Bullets.playerBullets.maxPlayerBullets;n++)Bullets.playerBullets.inPlay[n]&&ctx.drawImage(Bullets.playerBullets.art,Bullets.playerBullets.xLoc[n]+Bullets.playerBullets.offset,Bullets.playerBullets.yLoc[n]+Bullets.playerBullets.offset);for(n=0;n<Bullets.enemyBullets.maxEnemyBullets;n++)Bullets.enemyBullets.inPlay[n]&&ctx.drawImage(Bullets.enemyBullets.art,Bullets.enemyBullets.xLoc[n]+Bullets.enemyBullets.offset,Bullets.enemyBullets.yLoc[n]+Bullets.enemyBullets.offset)};
//# sourceMappingURL=bullets.min.js.map
