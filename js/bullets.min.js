var Bullets={};Bullets.enemyBullets=[];Bullets.maxEnemyBullets=100;Bullets.currentEnemyBullet=0;Bullets.enemyShotSpeed=100;Bullets.enemyShotStrength=1;Bullets.playerBullets=[];Bullets.maxPlayerBullets=100;Bullets.lastPlayerShot=0;Bullets.shotSpeed=100;Bullets.shotFrequency=1e3;Bullets.frequencyUpgrades=0;Bullets.shotStrength=1;Bullets.explosionBits=[];Bullets.bitsPerExplosion=16;Bullets.maxExplosionBits=256;Bullets.currentExplosionBit=0;Bullets.upgradeFrequency=function(){credits>upgradePrice(10,1.2,Bullets.frequencyUpgrades)&&(credits-=upgradePrice(10,1.2,Bullets.frequencyUpgrades),Bullets.frequencyUpgrades++,Bullets.shotFrequency-=10,$("#btn-freq span").text("₡"+upgradePrice(10,1.2,Bullets.frequencyUpgrades).toFixed(0)))};Bullets.generateExplosion=function(n){for(var t=0;t<Bullets.bitsPerExplosion;t++)Bullets.currentExplosionBit>=Bullets.maxExplosionBits&&(Bullets.currentExplosionBit=0),Bullets.explosionBits[Bullets.currentExplosionBit]={opacity:255,xLoc:n.x,yLoc:n.y,color:{r:n.r,g:n.g,b:n.b},xSpeed:-100+Math.random()*200,ySpeed:-100+Math.random()*200},Bullets.currentExplosionBit++};Bullets.enemyBullet=function(n,t){this.reset=function(n,t){this.x=n.xLoc;this.y=n.yLoc+16;var i=t.xLoc-n.xLoc,r=n.yLoc-t.yLoc,u=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.xSpeed=i/u*Bullets.enemyShotSpeed;this.ySpeed=r/u*Bullets.enemyShotSpeed;this.r=256;this.g=196;this.b=0;this.inPlay=1;this.strength=Bullets.enemyShotStrength};this.reset(n,t)};Bullets.playerBullet=function(){this.reset=function(){this.x=PlayerShip.playerShip.xLoc;this.y=PlayerShip.playerShip.yLoc-16;this.ySpeed=Bullets.shotSpeed;this.xSpeed=0;this.r=256;this.g=256;this.b=256;this.inPlay=1;this.strength=Bullets.shotStrength};this.reset()};Bullets.updatePlayerBullets=function(n){var t,i;for(Bullets.lastPlayerShot+=n*1e3,t=0;t<Bullets.maxPlayerBullets;t++)Bullets.playerBullets[t]&&Bullets.playerBullets[t].inPlay===1?(Bullets.playerBullets[t].x+=Bullets.playerBullets[t].xSpeed*n,Bullets.playerBullets[t].y-=Bullets.playerBullets[t].ySpeed*n,(Bullets.playerBullets[t].y<0||Bullets.playerBullets[t].y>canvasHeight||Bullets.playerBullets[t].x<0||Bullets.playerBullets[t].x>canvasWidth)&&(Bullets.playerBullets[t].inPlay=0)):Bullets.lastPlayerShot>=Bullets.shotFrequency&&(Bullets.playerBullets[t]?Bullets.playerBullets[t].reset():Bullets.playerBullets[t]=new Bullets.playerBullet,(playerOneAxes[2]>.25||playerOneAxes[2]<-.25||playerOneAxes[3]>.25||playerOneAxes[2]<-.25)&&(i=Math.sqrt(Math.pow(playerOneAxes[2],2)+Math.pow(playerOneAxes[3],2)),Bullets.playerBullets[t].xSpeed=playerOneAxes[2]/i*Bullets.shotSpeed,Bullets.playerBullets[t].ySpeed=-1*playerOneAxes[3]/i*Bullets.shotSpeed),Bullets.lastPlayerShot=0)};Bullets.updateEnemyBullets=function(n){for(var t=0;t<Bullets.enemyBullets.length;t++)Bullets.enemyBullets[t]&&Bullets.enemyBullets[t].inPlay===1&&(Bullets.enemyBullets[t].x+=Bullets.enemyBullets[t].xSpeed*n,Bullets.enemyBullets[t].y-=Bullets.enemyBullets[t].ySpeed*n,Bullets.enemyBullets[t].y<0||Bullets.enemyBullets[t].y>canvasHeight||Bullets.enemyBullets[t].x<0||Bullets.enemyBullets[t].x>canvasWidth?Bullets.enemyBullets[t].inPlay=0:Ships.detectCollision(PlayerShip.playerShip,Bullets.enemyBullets[t].x,Bullets.enemyBullets[t].y)&&(Bullets.enemyBullets[t].inPlay=0,Bullets.generateExplosion(Bullets.enemyBullets[t]),PlayerShip.playerShip.health-=Bullets.enemyBullets[t].strength))};Bullets.newEnemyBullet=function(n){Bullets.currentEnemyBullet>=Bullets.maxEnemyBullets&&(Bullets.currentEnemyBullet=0);Bullets.enemyBullets[Bullets.currentEnemyBullet]=new Bullets.enemyBullet(n,PlayerShip.playerShip);Bullets.currentEnemyBullet++};Bullets.drawPlayerBullet=function(n){drawPixel(Math.round(n.x),Math.round(n.y-1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y+1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x-1),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x+1),Math.round(n.y),n.r,n.g,n.b,255)};Bullets.drawEnemyBullet=function(n){drawPixel(Math.round(n.x),Math.round(n.y-2),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y-1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y+1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y+2),n.r,n.g,n.b,255);drawPixel(Math.round(n.x-2),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x-1),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x+1),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x+2),Math.round(n.y),n.r,n.g,n.b,255)};Bullets.drawPlayerBullets=function(){for(var n=0;n<Bullets.playerBullets.length;n++)Bullets.playerBullets[n].inPlay&&Bullets.drawPlayerBullet(Bullets.playerBullets[n]);for(n=0;n<Bullets.enemyBullets.length;n++)Bullets.enemyBullets[n].inPlay&&Bullets.drawEnemyBullet(Bullets.enemyBullets[n])};
//# sourceMappingURL=bullets.min.js.map
