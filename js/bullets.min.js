var Bullets={};Bullets.enemyBullets=[];Bullets.maxEnemyBullets=100;Bullets.currentEnemyBullet=0;Bullets.enemyShotSpeed=100;Bullets.enemyShotStrength=1;Bullets.blasts={art:function(){var t=document.createElement("canvas"),i,n;return t.width=32,t.height=32,i=t.getContext("2d"),n=i.createRadialGradient(16,16,0,16,16,16),n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(.8,"rgba(255,255,128,0.2)"),n.addColorStop(1,"rgba(255,180,0,0)"),i.fillStyle=n,i.fillRect(0,0,32,32),t}(),maxBlasts:20,currentBlast:0,xLoc:[],yLoc:[],opacity:[]};Bullets.enemyBulletArt=function(){var t=document.createElement("canvas"),i,n;return t.width=8,t.height=8,i=t.getContext("2d"),n=i.createRadialGradient(4,4,0,4,4,4),n.addColorStop(0,"rgba(255,255,128,1)"),n.addColorStop(.8,"rgba(255,0,0,0.4)"),n.addColorStop(1,"rgba(255,180,0,0)"),i.fillStyle=n,i.fillRect(0,0,8,8),t}();Bullets.playerBullets={art:function(){var t=document.createElement("canvas"),i,n;return t.width=8,t.height=8,i=t.getContext("2d"),n=i.createRadialGradient(4,4,0,4,4,4),n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(.8,"rgba(255,255,128,0.2)"),n.addColorStop(1,"rgba(255,255,0,0)"),i.fillStyle=n,i.fillRect(0,0,8,8),t}(),offset:-4,maxPlayerBullets:100,shotFrequency:1e3,lastPlayerShot:0,shotSpeed:150,strength:1,xLoc:[],yLoc:[],ySpeed:[],xSpeed:[],inPlay:[],r:256,g:256,b:256,resetPlayerBullet:function(n){Bullets.playerBullets.xLoc[n]=PlayerShip.playerShip.xLoc;Bullets.playerBullets.yLoc[n]=PlayerShip.playerShip.yLoc-16;Bullets.playerBullets.ySpeed[n]=Bullets.playerBullets.shotSpeed;Bullets.playerBullets.xSpeed[n]=0;Bullets.playerBullets.inPlay[n]=1}};Bullets.frequencyUpgrades=0;Bullets.explosionBits=[];Bullets.bitsPerExplosion=16;Bullets.maxExplosionBits=256;Bullets.currentExplosionBit=0;Bullets.upgradeFrequency=function(){credits>upgradePrice(10,1.2,Bullets.frequencyUpgrades)&&(credits-=upgradePrice(10,1.2,Bullets.frequencyUpgrades),Bullets.frequencyUpgrades++,Bullets.playerBullets.shotFrequency-=10,$("#btn-freq span").text("₡"+upgradePrice(10,1.2,Bullets.frequencyUpgrades).toFixed(0)))};Bullets.generateExplosion=function(n,t){for(var i=0;i<Bullets.bitsPerExplosion;i++)Bullets.currentExplosionBit>=Bullets.maxExplosionBits&&(Bullets.currentExplosionBit=0),Bullets.explosionBits[Bullets.currentExplosionBit]={opacity:255,xLoc:n,yLoc:t,color:{r:Bullets.playerBullets.r,g:Bullets.playerBullets.g,b:Bullets.playerBullets.b},xSpeed:-100+Math.random()*200,ySpeed:-100+Math.random()*200},Bullets.currentExplosionBit++;Bullets.blasts.currentBlast>Bullets.blasts.maxBlasts&&(Bullets.blasts.currentBlast=0);Bullets.blasts.opacity[Bullets.blasts.currentBlast]=1;Bullets.blasts.xLoc[Bullets.blasts.currentBlast]=n-16;Bullets.blasts.yLoc[Bullets.blasts.currentBlast]=t-16;Bullets.blasts.currentBlast++};Bullets.enemyBullet=function(n,t){this.reset=function(n,t){this.x=n.xLoc;this.y=n.yLoc+16;var i=t.xLoc-n.xLoc,r=n.yLoc-t.yLoc,u=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.xSpeed=i/u*Bullets.enemyShotSpeed;this.ySpeed=r/u*Bullets.enemyShotSpeed;this.r=256;this.g=196;this.b=0;this.inPlay=1;this.strength=Bullets.enemyShotStrength};this.reset(n,t)};Bullets.updatePlayerBullets=function(n){var t,i;for(Bullets.playerBullets.lastPlayerShot+=n*1e3,t=0;t<Bullets.playerBullets.maxPlayerBullets;t++)Bullets.playerBullets.inPlay[t]!==1?Bullets.playerBullets.lastPlayerShot>=Bullets.playerBullets.shotFrequency&&(Bullets.playerBullets.resetPlayerBullet(t),(playerOneAxes[2]>.25||playerOneAxes[2]<-.25||playerOneAxes[3]>.25||playerOneAxes[2]<-.25)&&(i=Math.sqrt(Math.pow(playerOneAxes[2],2)+Math.pow(playerOneAxes[3],2)),Bullets.playerBullets.xSpeed[t]=playerOneAxes[2]/i*Bullets.playerBullets.shotSpeed,Bullets.playerBullets.ySpeed[t]=-1*playerOneAxes[3]/i*Bullets.playerBullets.shotSpeed),Bullets.playerBullets.lastPlayerShot=0):(Bullets.playerBullets.xLoc[t]+=Bullets.playerBullets.xSpeed[t]*n,Bullets.playerBullets.yLoc[t]-=Bullets.playerBullets.ySpeed[t]*n,(Bullets.playerBullets.yLoc[t]<0||Bullets.playerBullets.yLoc[t]>canvasHeight||Bullets.playerBullets.xLoc[t]<0||Bullets.playerBullets.xLoc[t]>canvasWidth)&&(Bullets.playerBullets.inPlay[t]=0))};Bullets.updateEnemyBullets=function(n){for(var t=0;t<Bullets.enemyBullets.length;t++)Bullets.enemyBullets[t]&&Bullets.enemyBullets[t].inPlay===1&&(Bullets.enemyBullets[t].x+=Bullets.enemyBullets[t].xSpeed*n,Bullets.enemyBullets[t].y-=Bullets.enemyBullets[t].ySpeed*n,Bullets.enemyBullets[t].y<0||Bullets.enemyBullets[t].y>canvasHeight||Bullets.enemyBullets[t].x<0||Bullets.enemyBullets[t].x>canvasWidth?Bullets.enemyBullets[t].inPlay=0:Ships.detectCollision(PlayerShip.playerShip,Bullets.enemyBullets[t].x,Bullets.enemyBullets[t].y)&&(Bullets.enemyBullets[t].inPlay=0,Bullets.generateExplosion(Bullets.enemyBullets[t].x,Bullets.enemyBullets[t].y),PlayerShip.playerShip.health-=Bullets.enemyBullets[t].strength))};Bullets.newEnemyBullet=function(n){Bullets.currentEnemyBullet>=Bullets.maxEnemyBullets&&(Bullets.currentEnemyBullet=0);Bullets.enemyBullets[Bullets.currentEnemyBullet]=new Bullets.enemyBullet(n,PlayerShip.playerShip);Bullets.currentEnemyBullet++};Bullets.drawPlayerBullet=function(n){drawPixel(Math.round(Bullets.playerBullets.xLoc[n]),Math.round(Bullets.playerBullets.yLoc[n]-1),Bullets.playerBullets.r,Bullets.playerBullets.g,Bullets.playerBullets.b,255);drawPixel(Math.round(Bullets.playerBullets.xLoc[n]),Math.round(Bullets.playerBullets.yLoc[n]),Bullets.playerBullets.r,Bullets.playerBullets.g,Bullets.playerBullets.b,255);drawPixel(Math.round(Bullets.playerBullets.xLoc[n]),Math.round(Bullets.playerBullets.yLoc[n]+1),Bullets.playerBullets.r,Bullets.playerBullets.g,Bullets.playerBullets.b,255);drawPixel(Math.round(Bullets.playerBullets.xLoc[n]-1),Math.round(Bullets.playerBullets.yLoc[n]),Bullets.playerBullets.r,Bullets.playerBullets.g,Bullets.playerBullets.b,255);drawPixel(Math.round(Bullets.playerBullets.xLoc[n]+1),Math.round(Bullets.playerBullets.yLoc[n]),Bullets.playerBullets.r,Bullets.playerBullets.g,Bullets.playerBullets.b,255)};Bullets.drawEnemyBullet=function(n){drawPixel(Math.round(n.x),Math.round(n.y-2),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y-1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y+1),n.r,n.g,n.b,255);drawPixel(Math.round(n.x),Math.round(n.y+2),n.r,n.g,n.b,255);drawPixel(Math.round(n.x-2),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x-1),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x+1),Math.round(n.y),n.r,n.g,n.b,255);drawPixel(Math.round(n.x+2),Math.round(n.y),n.r,n.g,n.b,255)};Bullets.drawPlayerBullets=function(){for(var n=0;n<Bullets.playerBullets.maxPlayerBullets;n++)Bullets.playerBullets.inPlay[n]&&ctx.drawImage(Bullets.playerBullets.art,Bullets.playerBullets.xLoc[n]+Bullets.playerBullets.offset,Bullets.playerBullets.yLoc[n]+Bullets.playerBullets.offset);for(n=0;n<Bullets.enemyBullets.length;n++)Bullets.enemyBullets[n].inPlay&&ctx.drawImage(Bullets.enemyBulletArt,Bullets.enemyBullets[n].x+Bullets.playerBullets.offset,Bullets.enemyBullets[n].y+Bullets.playerBullets.offset)};
//# sourceMappingURL=bullets.min.js.map
