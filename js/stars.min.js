var Stars={};Stars.NUM_STARS=300;Stars.stars={xLoc:[],yLoc:[],speed:[],opacity:[],r:[],g:[],b:[]};Stars.resetStar=function(n){Stars.stars.xLoc[n]=Math.random()*canvasWidth;Stars.stars.yLoc[n]=0;Stars.stars.speed[n]=10+Math.random()*30;Stars.stars.opacity[n]=10+Math.floor(Stars.stars.speed[n]/40*245);Stars.stars.r[n]=128+Math.random()*128|0;Stars.stars.g[n]=128+Math.random()*128|0;Stars.stars.b[n]=128+Math.random()*128|0};Stars.resetStars=function(){for(var n=0;n<Stars.NUM_STARS;n++)Stars.resetStar(n),Stars.stars.yLoc[n]=Math.random()*canvasHeight};Stars.drawStars=function(n){for(var t=0;t<Stars.NUM_STARS;t++)Stars.stars.yLoc[t]+=Stars.stars.speed[t]*n,Stars.stars.yLoc[t]>canvasHeight&&Stars.resetStar(t),drawPixel(Math.round(Stars.stars.xLoc[t]),Math.round(Stars.stars.yLoc[t]),Stars.stars.r[t],Stars.stars.g[t],Stars.stars.b[t],Stars.stars.opacity[t])};Stars.shipTrailPart=function(n){this.reset=function(n){var i=-2+Math.random()*4,r=n.enemyShip?-20:20,t=n.enemyShip?n.rotation*-1:n.rotation,u=Math.cos(t)*i-Math.sin(t)*r+n.xLoc,f=Math.sin(t)*i+Math.cos(t)*r+n.yLoc;this.y=f;this.x=u;n.enemyShip?(this.speed=-100+Math.random()*-100,this.opacity=10+Math.floor(this.speed/-200*245)):(this.speed=100+Math.random()*100,this.opacity=10+Math.floor(this.speed/200*245));this.r=128+Math.random()*128|0;this.g=128+Math.random()*128|0;this.b=0};this.reset(n)};Stars.drawShipTrails=function(n){var t,i;if(Stars.drawShipTrail(PlayerShip.playerShip,n),EnemyShips.waves.length>0)for(t=0;t<EnemyShips.waves.length;t++)if(EnemyShips.waves[t]&&!EnemyShips.waves[t].finished)for(i=0;i<EnemyShips.waves[t].shipsInWave;i++)EnemyShips.waves[t].ships[i]&&EnemyShips.waves[t].ships[i].inPlay&&Stars.drawShipTrail(EnemyShips.waves[t].ships[i],n)};Stars.drawExplosions=function(n){for(var t=0;t<Bullets.explosionBits.maxExplosionBits;t++)Bullets.explosionBits.opacity[t]&&Bullets.explosionBits.opacity[t]>0&&(Bullets.explosionBits.xLoc[t]+=Bullets.explosionBits.xSpeed[t]*n,Bullets.explosionBits.yLoc[t]+=Bullets.explosionBits.ySpeed[t]*n,drawPixel(Math.round(Bullets.explosionBits.xLoc[t]),Math.round(Bullets.explosionBits.yLoc[t]),Bullets.explosionBits.color.r,Bullets.explosionBits.color.g,Bullets.explosionBits.color.b,Bullets.explosionBits.opacity[t]),Bullets.explosionBits.opacity[t]-=3e4*n/Bullets.explosionBits.opacity[t]);for(t=0;t<EnemyShips.explosionBits.maxExplosionBits;t++)EnemyShips.explosionBits.opacity[t]&&EnemyShips.explosionBits.opacity[t]>0&&(EnemyShips.explosionBits.xLoc[t]+=EnemyShips.explosionBits.xSpeed[t]*n,EnemyShips.explosionBits.yLoc[t]+=EnemyShips.explosionBits.ySpeed[t]*n,drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]),Math.round(EnemyShips.explosionBits.yLoc[t]),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t]),EnemyShips.explosionBits.vertical[t]?(drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]),Math.round(EnemyShips.explosionBits.yLoc[t]+1),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t]),drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]),Math.round(EnemyShips.explosionBits.yLoc[t]-1),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t])):(drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]+1),Math.round(EnemyShips.explosionBits.yLoc[t]),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t]),drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]-1),Math.round(EnemyShips.explosionBits.yLoc[t]),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t])),EnemyShips.explosionBits.opacity[t]-=2e4*n/EnemyShips.explosionBits.opacity[t])};Stars.drawShipTrail=function(n,t){for(var r=n.enemyShip&&n.health<n.wave.shipHealth?10:n.SHIP_TRAIL_COUNT,i=0;i<r;i++)n.shipTrail[i].y+=n.shipTrail[i].speed*t,n.shipTrail[i].opacity-=1500/n.shipTrail[i].opacity,n.shipTrail[i].opacity<10&&n.shipTrail[i].reset(n),drawPixel(Math.round(n.shipTrail[i].x),Math.round(n.shipTrail[i].y),n.shipTrail[i].r,n.shipTrail[i].g,n.shipTrail[i].b,n.shipTrail[i].opacity)};
//# sourceMappingURL=stars.min.js.map
