var Stars={};Stars.NUM_STARS=200;Stars.stars={xLoc:[],yLoc:[],speed:[],opacity:[],r:[],g:[],b:[]};Stars.resetStar=function(n){Stars.stars.xLoc[n]=Math.random()*canvasWidth;Stars.stars.yLoc[n]=0;Stars.stars.speed[n]=10+Math.random()*30;Stars.stars.opacity[n]=10+Math.floor(Stars.stars.speed[n]/40*245);Stars.stars.r[n]=128+Math.random()*128|0;Stars.stars.g[n]=128+Math.random()*128|0;Stars.stars.b[n]=128+Math.random()*128|0};Stars.resetStars=function(){for(var n=0;n<Stars.NUM_STARS;n++)Stars.resetStar(n),Stars.stars.yLoc[n]=Math.random()*canvasHeight};Stars.drawStars=function(n){for(var t=0;t<Stars.NUM_STARS;t++)Stars.stars.yLoc[t]+=Stars.stars.speed[t]*n,Stars.stars.yLoc[t]>canvasHeight&&Stars.resetStar(t),drawPixel(Math.round(Stars.stars.xLoc[t]),Math.round(Stars.stars.yLoc[t]),Stars.stars.r[t],Stars.stars.g[t],Stars.stars.b[t],Stars.stars.opacity[t])};Stars.shipTrail=function(n){this.xLoc=[];this.yLoc=[];this.speed=[];this.xSpeed=[];this.opacity=[];this.r=[];this.b=[];this.g=[];this.ship=n};Stars.resetTrail=function(n,t){n.xLoc[t]=n.ship.trailX-2+Math.random()*4;n.yLoc[t]=n.ship.trailY;n.ship.enemyShip?(n.speed[t]=-100+Math.random()*-100,n.opacity[t]=150+Math.floor(n.speed[t]/-200*105)):(n.speed[t]=100+Math.random()*100,n.opacity[t]=150+Math.floor(n.speed[t]/200*105));n.xSpeed[t]=-20+Math.random()*40;n.r[t]=128+Math.random()*128|0;n.g[t]=128+Math.random()*128|0;n.b[t]=0};Stars.drawShipTrails=function(n){var t,i;if(PlayerShip.playerShip.inPlay===1&&Stars.drawShipTrail(PlayerShip.playerShip.shipTrail,n),EnemyShips.waves.length>0)for(t=0;t<EnemyShips.waves.length;t++)if(EnemyShips.waves[t]&&!EnemyShips.waves[t].finished)for(i=0;i<EnemyShips.waves[t].shipsInWave;i++)EnemyShips.waves[t].ships[i]&&EnemyShips.waves[t].ships[i].inPlay&&Stars.drawShipTrail(EnemyShips.waves[t].ships[i].shipTrail,n)};Stars.drawExplosions=function(n){for(var t=0;t<Bullets.explosionBits.maxExplosionBits;t++)Bullets.explosionBits.opacity[t]&&Bullets.explosionBits.opacity[t]>0&&(Bullets.explosionBits.xLoc[t]+=Bullets.explosionBits.xSpeed[t]*n,Bullets.explosionBits.yLoc[t]+=Bullets.explosionBits.ySpeed[t]*n,drawPixel(Math.round(Bullets.explosionBits.xLoc[t]),Math.round(Bullets.explosionBits.yLoc[t]),Bullets.explosionBits.color.r,Bullets.explosionBits.color.g,Bullets.explosionBits.color.b,Bullets.explosionBits.opacity[t]),Bullets.explosionBits.opacity[t]-=3e4*n/Bullets.explosionBits.opacity[t]);for(t=0;t<EnemyShips.explosionBits.maxExplosionBits;t++)EnemyShips.explosionBits.opacity[t]&&EnemyShips.explosionBits.opacity[t]>0&&(EnemyShips.explosionBits.xLoc[t]+=EnemyShips.explosionBits.xSpeed[t]*n,EnemyShips.explosionBits.yLoc[t]+=EnemyShips.explosionBits.ySpeed[t]*n,EnemyShips.explosionBits.vertical[t]?drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]),Math.round(EnemyShips.explosionBits.yLoc[t]),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t],1,3):drawPixel(Math.round(EnemyShips.explosionBits.xLoc[t]),Math.round(EnemyShips.explosionBits.yLoc[t]),EnemyShips.explosionBits.color[t].r,EnemyShips.explosionBits.color[t].g,EnemyShips.explosionBits.color[t].b,EnemyShips.explosionBits.opacity[t],3,1),EnemyShips.explosionBits.opacity[t]-=2e4*n/EnemyShips.explosionBits.opacity[t])};Stars.drawShipTrail=function(n,t){for(var r=n.ship.enemyShip&&n.ship.health<n.ship.wave.shipHealth?10:n.ship.SHIP_TRAIL_COUNT,i=0;i<r;i++)n.opacity[i]&&n.opacity[i]>10?(drawPixel(Math.round(n.xLoc[i]),Math.round(n.yLoc[i]),n.r[i],n.g[i],n.b[i],n.opacity[i],1,3),n.yLoc[i]+=n.speed[i]*t,n.xLoc[i]+=n.xSpeed[i]*t,n.opacity[i]-=1500/n.opacity[i]):Stars.resetTrail(n,i)};
//# sourceMappingURL=stars.min.js.map
