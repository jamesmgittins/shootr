var Stars={};Stars.NUM_STARS=300;Stars.stars=[];Stars.star=function(){this.reset=function(){this.x=Math.random()*canvasWidth;this.y=0;this.speed=10+Math.random()*30;this.opacity=10+Math.floor(this.speed/40*245);this.r=128+Math.random()*128|0;this.g=128+Math.random()*128|0;this.b=128+Math.random()*128|0};this.reset();this.y=Math.random()*canvasHeight};Stars.resetStars=function(){for(var n=0;n<Stars.NUM_STARS;n++)Stars.stars[n]=new Stars.star};Stars.drawStars=function(n){for(var t=0;t<Stars.NUM_STARS;t++)Stars.stars[t].y=Stars.stars[t].y+Stars.stars[t].speed*n,Stars.stars[t].y>canvasHeight&&Stars.stars[t].reset(),drawPixel(Math.round(Stars.stars[t].x),Math.round(Stars.stars[t].y),Stars.stars[t].r,Stars.stars[t].g,Stars.stars[t].b,Stars.stars[t].opacity)};Stars.shipTrailPart=function(n){this.reset=function(n){var i=-2+Math.random()*4,r=n.enemyShip?-20:20,t=n.enemyShip?n.rotation*-1:n.rotation,u=Math.cos(t)*i-Math.sin(t)*r+n.xLoc,f=Math.sin(t)*i+Math.cos(t)*r+n.yLoc;this.y=f;this.x=u;n.enemyShip?(this.speed=-100+Math.random()*-100,this.opacity=10+Math.floor(this.speed/-200*245)):(this.speed=100+Math.random()*100,this.opacity=10+Math.floor(this.speed/200*245));this.r=128+Math.random()*128|0;this.g=128+Math.random()*128|0;this.b=0};this.reset(n)};Stars.drawShipTrails=function(n){var t,i;if(Stars.drawShipTrail(PlayerShip.playerShip,n),EnemyShips.waves.length>0)for(t=0;t<EnemyShips.waves.length;t++)if(EnemyShips.waves[t]&&!EnemyShips.waves[t].finished)for(i=0;i<EnemyShips.waves[t].shipsInWave;i++)EnemyShips.waves[t].ships[i]&&EnemyShips.waves[t].ships[i].inPlay&&Stars.drawShipTrail(EnemyShips.waves[t].ships[i],n)};Stars.drawExplosions=function(n){for(var t=0;t<Bullets.explosionBits.length;t++)Bullets.explosionBits[t]&&Bullets.explosionBits[t].opacity>0&&(Bullets.explosionBits[t].opacity-=2e4*n/Bullets.explosionBits[t].opacity,Bullets.explosionBits[t].opacity>0&&(Bullets.explosionBits[t].xLoc+=Bullets.explosionBits[t].xSpeed*n,Bullets.explosionBits[t].yLoc+=Bullets.explosionBits[t].ySpeed*n,Bullets.explosionBits[t].opacity-=100*n,drawPixel(Math.round(Bullets.explosionBits[t].xLoc),Math.round(Bullets.explosionBits[t].yLoc),Bullets.explosionBits[t].color.r,Bullets.explosionBits[t].color.g,Bullets.explosionBits[t].color.b,Bullets.explosionBits[t].opacity)));for(t=0;t<EnemyShips.explosionBits.length;t++)EnemyShips.explosionBits[t]&&EnemyShips.explosionBits[t].opacity>0&&(EnemyShips.explosionBits[t].opacity-=2e4*n/EnemyShips.explosionBits[t].opacity,EnemyShips.explosionBits[t].opacity>0&&(EnemyShips.explosionBits[t].xLoc+=EnemyShips.explosionBits[t].xSpeed*n,EnemyShips.explosionBits[t].yLoc+=EnemyShips.explosionBits[t].ySpeed*n,drawPixel(Math.round(EnemyShips.explosionBits[t].xLoc),Math.round(EnemyShips.explosionBits[t].yLoc),EnemyShips.explosionBits[t].color.r,EnemyShips.explosionBits[t].color.g,EnemyShips.explosionBits[t].color.b,EnemyShips.explosionBits[t].opacity),EnemyShips.explosionBits[t].vertical?(drawPixel(Math.round(EnemyShips.explosionBits[t].xLoc),Math.round(EnemyShips.explosionBits[t].yLoc+1),EnemyShips.explosionBits[t].color.r,EnemyShips.explosionBits[t].color.g,EnemyShips.explosionBits[t].color.b,EnemyShips.explosionBits[t].opacity),drawPixel(Math.round(EnemyShips.explosionBits[t].xLoc),Math.round(EnemyShips.explosionBits[t].yLoc-1),EnemyShips.explosionBits[t].color.r,EnemyShips.explosionBits[t].color.g,EnemyShips.explosionBits[t].color.b,EnemyShips.explosionBits[t].opacity)):(drawPixel(Math.round(EnemyShips.explosionBits[t].xLoc+1),Math.round(EnemyShips.explosionBits[t].yLoc),EnemyShips.explosionBits[t].color.r,EnemyShips.explosionBits[t].color.g,EnemyShips.explosionBits[t].color.b,EnemyShips.explosionBits[t].opacity),drawPixel(Math.round(EnemyShips.explosionBits[t].xLoc-1),Math.round(EnemyShips.explosionBits[t].yLoc),EnemyShips.explosionBits[t].color.r,EnemyShips.explosionBits[t].color.g,EnemyShips.explosionBits[t].color.b,EnemyShips.explosionBits[t].opacity))))};Stars.drawShipTrail=function(n,t){for(var r=n.enemyShip&&n.health<n.wave.shipHealth?10:n.SHIP_TRAIL_COUNT,i=0;i<r;i++)n.shipTrail[i].y+=n.shipTrail[i].speed*t,n.shipTrail[i].opacity-=1500/n.shipTrail[i].opacity,n.shipTrail[i].opacity<10&&n.shipTrail[i].reset(n),drawPixel(Math.round(n.shipTrail[i].x),Math.round(n.shipTrail[i].y),n.shipTrail[i].r,n.shipTrail[i].g,n.shipTrail[i].b,n.shipTrail[i].opacity)};
//# sourceMappingURL=stars.min.js.map
