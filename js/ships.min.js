var Ships={},nextXLoc,nextYLoc,collisionCushion;Ships.playerColors=[["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1"]];Ships.blasts={texture:function(){var t=document.createElement("canvas"),i,n;return t.width=64,t.height=64,i=t.getContext("2d"),n=i.createRadialGradient(32,32,0,32,32,32),n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(.8,"rgba(255,255,128,0.2)"),n.addColorStop(1,"rgba(255,180,0,0)"),i.fillStyle=n,i.fillRect(0,0,64,64),PIXI.Texture.fromCanvas(t)}(),maxBlasts:10,currentBlast:0,sprite:[],newBlast:function(n,t){Ships.blasts.currentBlast>=Ships.blasts.maxBlasts&&(Ships.blasts.currentBlast=0);Ships.blasts.sprite[Ships.blasts.currentBlast].visible=!0;Ships.blasts.sprite[Ships.blasts.currentBlast].scale={x:2,y:2};Ships.blasts.sprite[Ships.blasts.currentBlast].position.x=n;Ships.blasts.sprite[Ships.blasts.currentBlast].position.y=t;Ships.blasts.currentBlast++},initialize:function(){Ships.blasts.sprites=new PIXI.Container;for(var n=0;n<Ships.blasts.maxBlasts;n++)Ships.blasts.sprite[n]=new PIXI.Sprite(Ships.blasts.texture),Ships.blasts.sprite[n].visible=!1,Ships.blasts.sprite[n].anchor={x:.5,y:.5},Ships.blasts.sprites.addChild(Ships.blasts.sprite[n]);explosionContainer.addChild(Ships.blasts.sprites)},update:function(n){for(var t=0;t<Ships.blasts.maxBlasts;t++)Ships.blasts.sprite[t].visible&&(Ships.blasts.sprite[t].scale.y-=10*n,Ships.blasts.sprite[t].scale.x-=10*n,Ships.blasts.sprite[t].scale.x<=0&&(Ships.blasts.sprite[t].visible=!1))}};Ships.enemyColors=[["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C"],["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F"],["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c"],["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92"],["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40"],["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17"],["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00"],["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100"],["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"],["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"],["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]];Ships.shipArt=function(n,t,i,r){var h,f,u,e,s,o;for(Math.seedrandom(t),h=25,f=document.createElement("canvas"),f.width=n,f.height=n,u=f.getContext("2d"),lastX=n/2,lastY=0,e=0,s=0;s<h;s++)nextYLoc=Math.random()*n,nextXLoc=Math.random()*n/2*(nextYLoc/n)+n/2,drawline(u,r[e],lastX,lastY,nextXLoc,nextYLoc),e++,e>=r.length&&(e=0);return(u.save(),u.translate(n/2,0),u.scale(-1,1),u.drawImage(f,-n/2,0),u.restore(),i)?(o=document.createElement("canvas"),o.width=n,o.height=n,u=o.getContext("2d"),u.save(),u.scale(1,-1),u.transform(1,0,0,1,0,-n),u.clearRect(0,0,n,n),u.drawImage(f,0,0,n,n),u.restore(),o):f};collisionCushion=3;Ships.detectShipCollision=function(n,t){return t.inPlay===1&&n.yLoc<t.yLoc+t.offset*2&&n.yLoc+n.offset*2>t.yLoc&&n.xLoc<t.xLoc+t.offset*2&&n.xLoc+n.offset*2>t.xLoc&&(Ships.detectCollision(n,t.xLoc,t.yLoc-t.offset)||Ships.detectCollision(n,t.xLoc-t.offset,t.yLoc+t.offset)||Ships.detectCollision(n,t.xLoc+t.offset,t.yLoc+t.offset)||Ships.detectCollision(t,n.xLoc,n.yLoc+n.offset)||Ships.detectCollision(t,n.xLoc-n.offset,n.yLoc-n.offset)||Ships.detectCollision(t,n.xLoc+n.offset,n.yLoc-n.offset))?!0:!1};Ships.detectCollision=function(n,t,i){if(n.inPlay===1&&i>n.yLoc-n.offset&&i<n.yLoc+n.offset){var u=i-(n.yLoc-n.offset),r;if(r=n.enemyShip?n.offset*((n.offset*2-u)/(n.offset*2)):n.offset*(u/(n.offset*2)),t>n.xLoc-r+collisionCushion&&t<n.xLoc+r-collisionCushion)return!0}return!1};Ships.updateShipSpeed=function(n,t,i,r){var u=Math.sqrt(Math.pow(t,2)+Math.pow(i,2));n.xSpeed=t/u*n.maxSpeed;n.ySpeed=i/u*n.maxSpeed;(n.enemyShip||n.xLoc+n.xSpeed*r>0&&n.xLoc+n.xSpeed*r<canvasWidth)&&(n.xLoc+=n.xSpeed*r);(n.enemyShip||n.yLoc+n.ySpeed*r>0&&n.yLoc+n.ySpeed*r<canvasHeight)&&(n.yLoc+=n.ySpeed*r)};Ships.updateShipSpeedFromController=function(n,t,i,r){n.xSpeed=t*n.maxSpeed;n.ySpeed=i*n.maxSpeed;(n.enemyShip||n.xLoc+n.xSpeed*r>0&&n.xLoc+n.xSpeed*r<canvasWidth)&&(n.xLoc+=n.xSpeed*r);(n.enemyShip||n.yLoc+n.ySpeed*r>0&&n.yLoc+n.ySpeed*r<canvasHeight)&&(n.yLoc+=n.ySpeed*r)};Ships.updateRotation=function(n,t){var i=n.xSpeed/500;n.rotation>=i&&(n.rotation-t>=i?n.rotation-=t:n.rotation=i);n.rotation<=i&&(n.rotation+t<=i?n.rotation+=t:n.rotation=i);var u=-2+Math.random()*4,f=n.enemyShip?-20:20,r=n.enemyShip?n.rotation*-1:n.rotation;n.trailX=Math.cos(r)*u-Math.sin(r)*f+n.xLoc;n.trailY=Math.sin(r)*u+Math.cos(r)*f+n.yLoc};Ships.fragments={texture:function(){var n=document.createElement("canvas"),t;return n.width=2,n.height=20,t=n.getContext("2d"),t.fillStyle="#ffffff",t.fillRect(0,0,2,20),PIXI.Texture.fromCanvas(n)}(),bitsPerExplosion:16,maxFragments:128,currentFragment:0,sprite:[],xSpeed:[],ySpeed:[],rotSpeed:[],update:function(n){for(var t=0;t<Ships.fragments.maxFragments;t++)Ships.fragments.sprite[t].visible&&(Ships.fragments.sprite[t].alpha-=.5*n,Ships.fragments.sprite[t].alpha<=0?Ships.fragments.sprite[t].visible=!1:(Ships.fragments.sprite[t].position.x+=Ships.fragments.xSpeed[t]*n,Ships.fragments.sprite[t].position.y+=Ships.fragments.ySpeed[t]*n,Ships.fragments.sprite[t].rotation+=Ships.fragments.rotSpeed[t]*n))},initialize:function(){Ships.fragments.sprites=new PIXI.Container;for(var n=0;n<Ships.fragments.maxFragments;n++)Ships.fragments.sprite[n]=new PIXI.Sprite(Ships.fragments.texture),Ships.fragments.sprite[n].anchor={x:.5,y:.5},Ships.fragments.sprite[n].visible=!1,Ships.fragments.sprites.addChild(Ships.fragments.sprite[n]);starContainer.addChild(Ships.fragments.sprites)},newFragment:function(n,t){Ships.fragments.currentFragment>=Ships.fragments.maxFragments&&(Ships.fragments.currentFragment=0);Ships.fragments.sprite[Ships.fragments.currentFragment].visible=!0;Ships.fragments.sprite[Ships.fragments.currentFragment].alpha=1;Ships.fragments.sprite[Ships.fragments.currentFragment].rotation=Math.random()*7;Ships.fragments.sprite[Ships.fragments.currentFragment].scale.x=Ships.fragments.sprite[Ships.fragments.currentFragment].scale.y=.5+Math.random();Ships.fragments.sprite[Ships.fragments.currentFragment].tint=calculateTintFromString(t[Math.floor(Math.random()*t.length)]);Ships.fragments.xSpeed[Ships.fragments.currentFragment]=-50+Math.random()*100;Ships.fragments.ySpeed[Ships.fragments.currentFragment]=-50+Math.random()*100;Ships.fragments.sprite[Ships.fragments.currentFragment].position.x=n.xLoc+.2*Ships.fragments.xSpeed[Ships.fragments.currentFragment];Ships.fragments.sprite[Ships.fragments.currentFragment].position.y=n.yLoc+.2*Ships.fragments.ySpeed[Ships.fragments.currentFragment];Ships.fragments.rotSpeed[Ships.fragments.currentFragment]=-5+Math.random()*10;Ships.fragments.currentFragment++}};Ships.explosionBits={bitsPerExplosion:32,maxExplosionBits:128,currentExplosionBit:0,sprite:[],xSpeed:[],ySpeed:[],update:function(n){for(var t=0;t<Ships.explosionBits.maxExplosionBits;t++)Ships.explosionBits.sprite[t].visible&&(Ships.explosionBits.sprite[t].alpha-=.5*n,Ships.explosionBits.sprite[t].alpha<=0?Ships.explosionBits.sprite[t].visible=!1:(Ships.explosionBits.sprite[t].position.x+=Ships.explosionBits.xSpeed[t]*n,Ships.explosionBits.sprite[t].position.y+=Ships.explosionBits.ySpeed[t]*n))},initialize:function(){Ships.explosionBits.sprites=new PIXI.Container;for(var n=0;n<Ships.explosionBits.maxExplosionBits;n++)Ships.explosionBits.sprite[n]=new PIXI.Sprite(Stars.stars.texture),Ships.explosionBits.sprite[n].visible=!1,Ships.explosionBits.sprites.addChild(Ships.explosionBits.sprite[n]);starContainer.addChild(Ships.explosionBits.sprites)},newExplosionBit:function(n,t){Ships.explosionBits.currentExplosionBit>=Ships.explosionBits.maxExplosionBits&&(Ships.explosionBits.currentExplosionBit=0);Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].visible=!0;Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].alpha=1;Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].position.x=n.xLoc;Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].position.y=n.yLoc;Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].scale.x=Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].scale.y=2+Math.random();Ships.explosionBits.sprite[Ships.explosionBits.currentExplosionBit].tint=calculateTintFromString(t[Math.floor(Math.random()*t.length)]);Ships.explosionBits.xSpeed[Ships.explosionBits.currentExplosionBit]=-100+Math.random()*200;Ships.explosionBits.ySpeed[Ships.explosionBits.currentExplosionBit]=-100+Math.random()*200;Ships.explosionBits.currentExplosionBit++}};Ships.generateExplosion=function(n){for(var t=0;t<Ships.explosionBits.bitsPerExplosion;t++)Ships.explosionBits.newExplosionBit(n,n.colors||n.wave.colors);for(t=0;t<Ships.fragments.bitsPerExplosion;t++)Ships.fragments.newFragment(n,n.colors||n.wave.colors);Ships.blasts.newBlast(n.xLoc,n.yLoc)};
//# sourceMappingURL=ships.min.js.map
