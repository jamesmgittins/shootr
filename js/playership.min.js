var PlayerShip={};PlayerShip.allPlayersDead=0;PlayerShip.allDeadTimer=0;PlayerShip.allDeadTime=3e3;PlayerShip.SHIP_SIZE=64;PlayerShip.controllerPointer={initialize:function(){var n=document.createElement("canvas"),t;n.width=10;n.height=16;t=n.getContext("2d");t.lineWidth=2;drawline(t,"#0b0",1,1,9,8);drawline(t,"#0b0",1,15,9,8);PlayerShip.controllerPointer.sprite=new PIXI.Sprite(PIXI.Texture.fromCanvas(n));PlayerShip.controllerPointer.sprite.anchor={x:.5,y:.5};PlayerShip.controllerPointer.sprite.visible=!1;uiContainer.addChild(PlayerShip.controllerPointer.sprite)},update:function(){playerOneAxes[2]>.25||playerOneAxes[2]<-.25||playerOneAxes[3]>.25||playerOneAxes[3]<-.25?(PlayerShip.controllerPointer.sprite.position.x=PlayerShip.playerShip.xLoc+playerOneAxes[2]*70,PlayerShip.controllerPointer.sprite.position.y=PlayerShip.playerShip.yLoc-16+playerOneAxes[3]*70,PlayerShip.controllerPointer.sprite.rotation=Math.atan2(playerOneAxes[3],playerOneAxes[2]),PlayerShip.controllerPointer.sprite.visible=!0):PlayerShip.controllerPointer.sprite.visible=!1}};PlayerShip.cursor={initialize:function(){var n=document.createElement("canvas"),t;n.width=31;n.height=31;t=n.getContext("2d");t.lineWidth=2;drawline(t,"#0b0",15,1,15,29);drawline(t,"#0b0",1,15,29,15);PlayerShip.cursor.sprite=new PIXI.Sprite(PIXI.Texture.fromCanvas(n));PlayerShip.cursor.sprite.anchor={x:.5,y:.5};uiContainer.addChild(PlayerShip.cursor.sprite)},update:function(){aimLocX&&aimLocY?(PlayerShip.cursor.sprite.position.x=aimLocX,PlayerShip.cursor.sprite.position.y=aimLocY,PlayerShip.cursor.sprite.visible=!0):PlayerShip.cursor.sprite.visible=!1}};PlayerShip.playerShip={seed:1,xLoc:320,yLoc:480,maxSpeed:100,offset:PlayerShip.SHIP_SIZE/2,rotation:0,maxShield:10,currShield:10,shieldRegen:2,shieldDelay:5e3,lastDmg:0,inPlay:1,lastTrail:0,colors:Ships.playerColors[0],spreadShot:0,crossShot:0,powerupTime:0};PlayerShip.updatePlayerShip=function(n){var t,i,r,u;if(PlayerShip.allPlayersDead===1){PlayerShip.allDeadTimer+=n*1e3;PlayerShip.allDeadTimer>PlayerShip.allDeadTime&&changeState(states.levelFailed);return}PlayerShip.playerShip.powerupTime+=n;PlayerShip.playerShip.powerupTime>=Powerups.powerupLength&&(PlayerShip.playerShip.spreadShot=0,PlayerShip.playerShip.crossShot=0);playerOneAxes[0]>.25||playerOneAxes[0]<-.25||playerOneAxes[1]>.25||playerOneAxes[1]<-.25?(Ships.updateShipSpeedFromController(PlayerShip.playerShip,playerOneAxes[0],playerOneAxes[1],n),clickLocX=0,clickLocY=0):w||a||s||d?(t=0,i=0,w&&i--,a&&t--,s&&i++,d&&t++,Ships.updateShipSpeed(PlayerShip.playerShip,t,i,n),clickLocX=0,clickLocY=0):clickLocX&&clickLocY&&Math.sqrt(Math.pow(PlayerShip.playerShip.xLoc-clickLocX,2)+Math.pow(PlayerShip.playerShip.yLoc-clickLocY,2))>5?Ships.updateShipSpeed(PlayerShip.playerShip,clickLocX-PlayerShip.playerShip.xLoc,clickLocY-PlayerShip.playerShip.yLoc,n):(clickLocX=0,clickLocY=0,PlayerShip.playerShip.xSpeed=0,PlayerShip.playerShip.ySpeed=0);r=PlayerShip.playerShip.xSpeed/500;u=n;Ships.updateRotation(PlayerShip.playerShip,n);PlayerShip.playerShip.lastDmg+=n*1e3;PlayerShip.playerShip.lastDmg>=PlayerShip.playerShip.shieldDelay&&PlayerShip.playerShip.currShield<PlayerShip.playerShip.maxShield&&(PlayerShip.playerShip.currShield+=PlayerShip.playerShip.shieldRegen*n,PlayerShip.playerShip.currShield>PlayerShip.playerShip.maxShield&&(PlayerShip.playerShip.currShield=PlayerShip.playerShip.maxShield));PlayerShip.playerShip.sprite.position.x=PlayerShip.playerShip.xLoc;PlayerShip.playerShip.sprite.position.y=PlayerShip.playerShip.yLoc;PlayerShip.playerShip.sprite.rotation=PlayerShip.playerShip.rotation;Stars.shipTrails.updateShip(PlayerShip.playerShip,n);PlayerShip.playerShip.sprite.tint=tintOn&&PlayerShip.playerShip.currShield<=PlayerShip.playerShip.maxShield/2?calculateTint(PlayerShip.playerShip.currShield/PlayerShip.playerShip.maxShield):16777215};PlayerShip.damagePlayerShip=function(n,t){n.currShield-=t;n.lastDmg=0;n.currShield<=0&&n.inPlay===1&&(n.sprite.visible=!1,n.inPlay=0,PlayerShip.allPlayersDead=1,PlayerShip.allDeadTimer=0,Ships.generateExplosion(n))};PlayerShip.drawPlayerShipLine=function(n){PlayerShip.playerShip.inPlay===1&&(clickLocX&&clickLocY&&(n.strokeStyle="#333",n.beginPath(),n.moveTo(PlayerShip.playerShip.xLoc,PlayerShip.playerShip.yLoc),n.lineTo(clickLocX,clickLocY),n.stroke(),n.strokeStyle="#0B0",n.beginPath(),n.moveTo(clickLocX-4,clickLocY-4),n.lineTo(clickLocX+5,clickLocY+5),n.stroke(),n.beginPath(),n.moveTo(clickLocX+4,clickLocY-4),n.lineTo(clickLocX-5,clickLocY+5),n.stroke()),(playerOneAxes[2]>.25||playerOneAxes[2]<-.25||playerOneAxes[3]>.25||playerOneAxes[3]<-.25)&&(n.strokeStyle="#333",n.beginPath(),n.moveTo(PlayerShip.playerShip.xLoc,PlayerShip.playerShip.yLoc-16),n.lineTo(PlayerShip.playerShip.xLoc+playerOneAxes[2]*100,PlayerShip.playerShip.yLoc-16+playerOneAxes[3]*100),n.stroke()))};var lastPlayerShield=0,destroyedWarning=!1,shieldRed=0,shieldBlue=255;PlayerShip.drawShield=function(n){var t=PlayerShip.playerShip.currShield/PlayerShip.playerShip.maxShield*100;lastPlayerShield!=t&&(shieldRed=Math.floor((100-t)*2.55),shieldBlue=Math.floor(t*2.55),n.fillStyle="rgb("+shieldRed+",0,"+shieldBlue+")",n.clearRect(0,0,100,25),n.fillRect(0,0,Math.round(t),25),lastPlayerShield=t,setTimeout(function(){t<=0&&!destroyedWarning&&(destroyedWarning=!0,$("#p1-shield-div").addClass("destroyed"))}))};PlayerShip.initialize=function(){PlayerShip.playerShip.art=Ships.shipArt(PlayerShip.SHIP_SIZE,gameModel.p1.shipSeed,!1,Ships.playerColors[Math.floor(Math.random()*Ships.playerColors.length)]);PlayerShip.playerShip.xLoc=canvasWidth/2;PlayerShip.playerShip.yLoc=canvasHeight-canvasHeight/6;PlayerShip.playerShip.sprite=new PIXI.Sprite(PIXI.Texture.fromCanvas(PlayerShip.playerShip.art));PlayerShip.playerShip.sprite.anchor={x:.5,y:.5};PlayerShip.playerShip.sprite.position.x=PlayerShip.playerShip.xLoc;PlayerShip.playerShip.sprite.position.y=PlayerShip.playerShip.yLoc;playerShipContainer.addChild(PlayerShip.playerShip.sprite)};
//# sourceMappingURL=playership.min.js.map
